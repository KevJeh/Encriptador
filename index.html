<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
   
    <meta name="viewport" content="width=device-width">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <link href="reset.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">

    <title>Encriptron 8 </title>
    
    <script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
</head>
<body>
    <header>
        <p>Hecho con <span>❤</span> por KevJeh</p>
        <div class="logo">
            <img src="imagenes/Logo.png">
        </div>
    </header>



    <main class="principal">
        
        <section>
            
            <div class="texto-entrada">
                <label for="textoEntrada"></label>
                <textarea class="mensajeEntrada" id="textoEntrada" type="text" placeholder="ingrese el texto aquí" required></textarea>
                <div class="atencion"><iconify-icon icon="bi:exclamation-circle-fill"></iconify-icon> Solo letras minusculas y sin acentos
                </div>
                    <div class="botones">
                    <button onclick="encriptador()" id="encriptar">Encriptar</button>
                    <button onclick="desencriptador()" id="desencriptar">Desencriptar</button>
                </div>
            </div>


            <script>
                let boton = document.getElementById("encriptar");
                let mensaje = document.getElementById("textoEntrada");
                let mensajeEncriptado = document.getElementById("texto-encriptado");
                let botonCopiar = document.getElementById("copiar");
                let clipboard = new ClipboardJS("#copiar");
    
        
                boton.addEventListener("click", function() {
                if (mensaje.value.trim() != "") {
                    encriptador();
                    ocultarImagen();
                    mostrarTexto();
                    
                } else {
                    alert("Por favor, ingresa algún texto en el área de texto");
                    return;
                }
               
                });

                function encriptador() {

                let mensaje = document.getElementById("textoEntrada").value;

                let mensajeEncriptado = mensaje.replace(/e/gi, "enter").replace(/i/gi, "imes").replace(/a/gi, "ai").replace(/o/gi, "ober").replace(/u/gi, "ufat");

                document.getElementById("texto-encriptado").innerHTML = mensajeEncriptado;

                }

                function ocultarImagen() {
                document.getElementById("rectangulo").style.display = "none";
                }

                function mostrarTexto(){
                    document.getElementById("textoEncriptado").style.display = "block";
                }

                botonCopiar.addEventListener("click", function(){
                copiarTexto();
                });

                botonCopiar.addEventListener("click", function(){
                copiarTexto();
                });

                function copiarTexto() {
                navigator.clipboard.writeText(mensajeEncriptado.innerHTML)
                .then(() => {
                    alert("Texto copiado: " + mensajeEncriptado.innerHTML);
                })
                .catch(err => {
                    console.error('Error al copiar texto: ', err);
                });
                }


                botonCopiar.addEventListener("click", function(){
                    botonCopiar.innerHTML = "Copiado!";
                    setTimeout(function(){
                        botonCopiar.innerHTML = "Copiar al portapapeles";
                    }, 2000);
                });

                function desencriptador() {
                    let mensaje = document.getElementById("textoEntrada").value;
                    let mensajeDesencriptado = mensaje.replace(/enter/gi, "e").replace(/imes/gi, "i").replace(/ai/gi, "a").replace(/ober/gi, "o").replace(/ufat/gi, "u");
                    document.getElementById("texto-encriptado").innerHTML = mensajeDesencriptado;
                }
            </script>
        

            <section class="rectangulo">
                <div id="rectangulo">
                    <img src="imagenes/Muñeco.png" id="muñeco">
                    <div class="mensajeNoEncontrado">
                        <h1>Ningun Mensaje Fue <br> encontrado</h1> 
                        <p>Ingresa el texto que deseas encriptar o <br> desencriptar</p>
                    </div>
                </div>
                

                <div id="textoEncriptado" class="textoEncriptado">
                    <label for="texto-encriptado" class="label">Texto Encriptado:</label>
                    <p class="mensajeSalida" id="texto-encriptado"></p>
                    <button id="copiar" data-clipboard-target="#texto-encriptado">Copiar</button>
                </div>
            
            </section>
        </section>

        
    </main>

</body>
</html>